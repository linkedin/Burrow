version: '1'
service:
  name: burrow
  owner: devops
  level: office hours
  containers:
    web:
      resources:
        requests:
          memory: 256Mi
          cpu: 1500m
        limits:
          memory: 256Mi
          cpu: 1500m
      dockerfile: Dockerfile
      needs:
        - kafka
      secret_files:
        burrow: /etc/burrow/
      ports:
      - name: http
        container: 8000
      annotations:
        ad.datadoghq.com/web.check_names: ["burrow"]
        ad.datadoghq.com/web.init_configs: [{}]
        ad.datadoghq.com/web.instances: [{"burrow_uri": "http://%%host%%:8000", "clusters": ["kafka1"]}]
    test-burrow:
      image: mthoretton1/test-burrow
