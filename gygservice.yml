version: '1'
service:
  name: burrow
  owner: devops
  level: office hours
  containers:
    web:
      resources:
        requests:
          memory: 64Mi
          cpu: 200m
        limits:
          memory: 64Mi
          cpu: 200m
      dockerfile: Dockerfile
      needs:
        - kafka
      secret_files:
        burrow: /etc/burrow/
      ports:
      - name: http
        container: 8000
      annotations:
        service-discovery.datadoghq.com/web.check_names: ["burrow"]
        service-discovery.datadoghq.com/web.init_configs: [{}]
        service-discovery.datadoghq.com/web.instances: [{"burrow_uri": "http://%%host%%:8000", "clusters": ["kafka1"]}]
